<div>
    Wenn Sie in Ihrer Tabelle Daten kopiert haben, können Sie diese hier mit Strg + V einfügen.
</div>
<table class="table">
    <thead>
        <tr>
            <th *ngFor="let column of columns; let i = index"
                draggable="true"
                (dragstart)="onDragStart($event, i)"
                (dragend)="onDragEnd()"
                (dragover)="onDragOver($event, i)"
                (drop)="onDrop(i)"
                [ngClass]="{dragging: this.sourceIndex === i, target: presumedTargetIndex === i, primary: (getColumn(column) | async)?.primary, foreign: (getColumn(column) | async)?.foreignKey}"
                [attr.title]="getColumnTitle(column) | async"
                class="position-relative">
                {{(getColumn(columns[i]) | async)?.name}}
                <span class="visually-hidden" *ngIf="(getColumn(column) | async)?.primary === true">
                    Diese Spalte wird für den Primärschlüssel der Tabelle verwendet.
                </span>
                <span class="visually-hidden" *ngIf="(getColumn(column) | async)?.foreignKey === true">
                    Diese Spalte enthält einen Fremdschlüssel auf eine andere Tabelle.
                </span>
                <span class="visually-hidden" *ngIf="(getColumn(column) | async)?.unique === true">
                    In dieser Spalte der Tabelle dürfen keine doppelten Einträge vorhanden sein.
                </span>
           </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let rowNumber of (rowNumbers | async)">
            <td *ngFor="let column of columns; let i = index"
                [ngClass]="{error: (getCellInformation(rowNumber, i, column) | async)?.containsErrors}">
                {{getCellInformation(rowNumber, i, column) | async | json}}
            </td>
        </tr>
    </tbody>
</table>

